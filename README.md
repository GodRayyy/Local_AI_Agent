# ğŸ“š Local AI Agent

**Local AI Agent** æ˜¯ä¸€ä¸ªåŸºäº Qwen3 ç³»åˆ—æ¨¡å‹æ„å»ºçš„æœ¬åœ°åŒ–æ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨é€šè¿‡å¤šæ¨¡æ€å¤§æ¨¡å‹æŠ€æœ¯ï¼Œå®ç°å¯¹æœ¬åœ°æ–‡çŒ®ï¼ˆPDFï¼‰å’Œå›¾åƒèµ„æ–™çš„æ™ºèƒ½åŒ–ç®¡ç†ã€æ£€ç´¢ä¸äº¤äº’ã€‚

æœ¬é¡¹ç›®å®Œå…¨è¿è¡Œåœ¨æœ¬åœ°ç¯å¢ƒä¸­ï¼Œä¿éšœæ•°æ®éšç§å®‰å…¨ï¼ŒåŒæ—¶åˆ©ç”¨æœ€æ–°çš„ LLM å’Œ VLM æŠ€æœ¯æä¾›å¼ºå¤§çš„è¯­ä¹‰ç†è§£èƒ½åŠ›ã€‚

---

## ğŸ“º æ¼”ç¤ºè§†é¢‘ (Demo Video)

> [!NOTE]
> ä¸‹æ–¹è§†é¢‘æ¼”ç¤ºäº†ä»ç¯å¢ƒé…ç½®ã€å¯åŠ¨åˆ°æ ¸å¿ƒåŠŸèƒ½ï¼ˆè®ºæ–‡åˆ†ç±»ã€è¯­ä¹‰æœç´¢ã€å›¾åƒå¯¹è¯ï¼‰çš„å®Œæ•´ä½¿ç”¨æµç¨‹ã€‚
>
> ![Demo Video Placeholder](assets/demo_video.mp4)

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½ (Core Features)

### ğŸ“„ æ™ºèƒ½æ–‡çŒ®ç®¡ç†
- **è¯­ä¹‰æœç´¢**ï¼šä¸å†å±€é™äºå…³é”®è¯ï¼Œä½¿ç”¨è‡ªç„¶è¯­è¨€ï¼ˆå¦‚"Transformerçš„æ³¨æ„åŠ›æœºåˆ¶åŸç†"ï¼‰ç²¾å‡†æŸ¥æ‰¾è®ºæ–‡å†…å®¹ã€‚
- **è‡ªåŠ¨åˆ†ç±»**ï¼šåŸºäº LLM æ·±åº¦ç†è§£è®ºæ–‡æ‘˜è¦ä¸æ­£æ–‡ï¼Œè‡ªåŠ¨è¯†åˆ«ä¸»é¢˜å¹¶å°† PDF å½’æ¡£åˆ°å¯¹åº”æ–‡ä»¶å¤¹ã€‚
- **æ™ºèƒ½é—®ç­” (RAG)**ï¼šåŸºäºæœ¬åœ°è®ºæ–‡åº“æ„å»ºçŸ¥è¯†åº“ï¼Œèƒ½å¤Ÿå›ç­”å…³äºè®ºæ–‡ç»†èŠ‚çš„ä¸“ä¸šé—®é¢˜ã€‚
- **æ‰¹é‡æ•´ç†**ï¼šä¸€é”®æ‰«ææ··ä¹±çš„ä¸‹è½½æ–‡ä»¶å¤¹ï¼Œè‡ªåŠ¨é‡å‘½åã€åˆ†ç±»å¹¶å»ºç«‹ç´¢å¼•ã€‚

### ğŸ–¼ï¸ æ™ºèƒ½å›¾åƒç®¡ç†
- **ä»¥æ–‡æœå›¾**ï¼šé€šè¿‡è‡ªç„¶è¯­è¨€æè¿°ï¼ˆå¦‚"é£é©°çš„æ±½è½¦"ï¼‰å¿«é€ŸæŸ¥æ‰¾æœ¬åœ°å›¾ç‰‡åº“ä¸­çš„ç›¸å…³å›¾ç‰‡ã€‚
- **å›¾åƒå¯¹è¯**ï¼šæ”¯æŒä¸å›¾åƒè¿›è¡Œå¤šæ¨¡æ€å¯¹è¯ï¼Œè®© AI è§£é‡Šå›¾è¡¨ã€åˆ†æåœºæ™¯æˆ–æå–ä¿¡æ¯ã€‚
- **è‡ªåŠ¨ç´¢å¼•**ï¼šæ‰¹é‡å»ºç«‹å›¾ç‰‡å‘é‡ç´¢å¼•ï¼Œæ”¯æŒå¤§è§„æ¨¡å›¾åº“çš„æ¯«ç§’çº§æ£€ç´¢ã€‚

---

## ğŸ“¸ è¿è¡Œæˆªå›¾ (Screenshots)

### 1. è¯­ä¹‰æœç´¢ç»“æœ
> ![Search Results](assets/search_result_demo.png)
> *(å±•ç¤ºé€šè¿‡è‡ªç„¶è¯­è¨€æœç´¢è®ºæ–‡çš„è¿”å›ç»“æœï¼ŒåŒ…å«ç›¸å…³åº¦è¯„åˆ†ä¸åŸæ–‡ç‰‡æ®µ)*

### 2. æ™ºèƒ½åˆ†ç±»åçš„æ–‡ä»¶å¤¹ç»“æ„
> ![Folder Structure](assets/folder_structure_before.png)
> *(å±•ç¤ºè‡ªåŠ¨åˆ†ç±»æ•´ç†å‰çš„ messy ç›®å½•ç»“æ„ï¼Œæ··ä¹±ä¸å ª)*
> ![Folder Structure](assets/folder_structure_demo.png)
> *(å±•ç¤ºè‡ªåŠ¨åˆ†ç±»æ•´ç†çš„è¿‡ç¨‹)*
> ![Folder Structure](assets/folder_structure_after.png)
> *(å±•ç¤ºè‡ªåŠ¨åˆ†ç±»æ•´ç†åçš„ Library ç›®å½•ç»“æ„ï¼Œæ¸…æ™°æœ‰åº)*

### 3. å¤šæ¨¡æ€å›¾åƒå¯¹è¯
> ![Image Chat](assets/image_chat_demo.png)
> *(å±•ç¤ºä¸å›¾åƒè¿›è¡Œäº¤äº’å¯¹è¯çš„ç•Œé¢ï¼Œæ¨¡å‹å‡†ç¡®ç†è§£å›¾åƒå†…å®¹)*

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„ (Technical Architecture)

æœ¬é¡¹ç›®é‡‡ç”¨äº† "Router-Expert" æ¨¡å¼ä¸æ¨¡å—åŒ–è®¾è®¡ï¼Œæ ¸å¿ƒç»„ä»¶å¦‚ä¸‹ï¼š

### æ¨¡å‹æ ˆ (Model Stack)
| ç»„ä»¶ | æ¨¡å‹ | ç”¨é€” |
|------|------|------|
| **å¤§è¯­è¨€æ¨¡å‹ (LLM)** | Qwen3-4B-Instruct | è´Ÿè´£æ–‡æœ¬ç†è§£ã€è®ºæ–‡åˆ†ç±»ã€RAG é—®ç­”ç”Ÿæˆ |
| **è§†è§‰è¯­è¨€æ¨¡å‹ (VLM)** | Qwen3-VL-4B-Instruct | è´Ÿè´£å›¾åƒç†è§£ã€å¤šæ¨¡æ€å¯¹è¯äº¤äº’ |
| **æ–‡æœ¬åµŒå…¥ (Text Embedding)** | BAAI/bge-m3 | ç”Ÿæˆé«˜è´¨é‡æ–‡æœ¬å‘é‡ï¼Œç”¨äºè®ºæ–‡è¯­ä¹‰æ£€ç´¢ |
| **å›¾åƒåµŒå…¥ (Image Embedding)** | OpenAI/CLIP-ViT-Large | ç”Ÿæˆå›¾åƒä¸æ–‡æœ¬çš„ç»Ÿä¸€è¯­ä¹‰å‘é‡ï¼Œç”¨äºä»¥æ–‡æœå›¾ |
| **å‘é‡æ•°æ®åº“ (Vector DB)** | ChromaDB | é«˜æ•ˆå­˜å‚¨ä¸æ£€ç´¢æµ·é‡å‘é‡æ•°æ® |

### ç¡¬ä»¶è¦æ±‚
- **æ¨èé…ç½®**ï¼šNVIDIA RTX 4090
- **æœ€ä½é…ç½®**ï¼š8GB+ GPU VRAM
- **æ“ä½œç³»ç»Ÿ**ï¼šLinux / Windows / macOS

---

## ğŸ“¦ ç¯å¢ƒé…ç½®ä¸å®‰è£… (Installation)

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/godrayyyy/Local_AI_Agent.git
cd Local_AI_Agent
```

### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
æ¨èä½¿ç”¨ Conda ç®¡ç†ç¯å¢ƒï¼š
```bash
conda create -n qwen3_agent python=3.10 -y
conda activate qwen3_agent
```

### 3. å®‰è£…ä¾èµ–
```bash
# å®‰è£… PyTorch (æ ¹æ®ä½ çš„ CUDA ç‰ˆæœ¬è°ƒæ•´)
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121

# å®‰è£…é¡¹ç›®ä¾èµ–
pip install -r requirements.txt
```

### 4. æ¨¡å‹å‡†å¤‡ä¸é…ç½®
è¯·ç¡®ä¿å·²ä¸‹è½½æ‰€éœ€çš„æ¨¡å‹æƒé‡æ–‡ä»¶ã€‚ç¼–è¾‘ `config.py` æ–‡ä»¶ï¼Œè®¾ç½®æœ¬åœ°æ¨¡å‹è·¯å¾„ï¼š

```python
# config.py

# LLM æ¨¡å‹è·¯å¾„
LLM_MODEL_PATH = "/path/to/Qwen3-4B-Instruct"

# VLM æ¨¡å‹è·¯å¾„
VLM_MODEL_PATH = "/path/to/Qwen3-VL-4B-Instruct"

# Embedding æ¨¡å‹è·¯å¾„
TEXT_EMBEDDING_MODEL = "/path/to/bge-m3"
IMAGE_EMBEDDING_MODEL = "/path/to/clip-vit-large-patch14-336"
```

### 5. åˆå§‹åŒ–ç›®å½•
```bash
# åˆ›å»ºå¿…è¦çš„å­˜å‚¨ç›®å½•
mkdir -p Library Images data
```

---

## ğŸš€ è¯¦ç»†ä½¿ç”¨è¯´æ˜ (Usage Guide)

æ‰€æœ‰åŠŸèƒ½å‡é€šè¿‡ `main.py` ç»Ÿä¸€å…¥å£è°ƒç”¨ã€‚

### 1. ç³»ç»Ÿè‡ªæ£€
æŸ¥çœ‹å½“å‰ç¯å¢ƒé…ç½®ã€GPU çŠ¶æ€åŠæ¨¡å‹åŠ è½½æƒ…å†µã€‚
```bash
python main.py info
```

### 2. è®ºæ–‡ç®¡ç†

#### â¤ æ·»åŠ å•ç¯‡è®ºæ–‡ï¼ˆè‡ªåŠ¨åˆ†ç±»ï¼‰
ç³»ç»Ÿä¼šè‡ªåŠ¨è¯»å– PDF å†…å®¹ï¼Œè¯†åˆ«ä¸»é¢˜ï¼Œå°†å…¶ç§»åŠ¨åˆ° `Library` ä¸‹çš„å¯¹åº”åˆ†ç±»ç›®å½•ï¼Œå¹¶å»ºç«‹ç´¢å¼•ã€‚
```bash
# åŸºæœ¬ç”¨æ³•
python main.py add_paper /path/to/your/paper.pdf

# æŒ‡å®šå€™é€‰åˆ†ç±»ä¸»é¢˜ï¼ˆè¦†ç›–é»˜è®¤é…ç½®ï¼‰
python main.py add_paper paper.pdf --topics "CV,NLP,RL,Robotics"
```

#### â¤ è¯­ä¹‰æœç´¢è®ºæ–‡
ä½¿ç”¨è‡ªç„¶è¯­è¨€æŸ¥æ‰¾åº“ä¸­çš„è®ºæ–‡ã€‚
```bash
# æœç´¢å…³äº Transformer æ¶æ„çš„å†…å®¹
python main.py search_paper "Transformer architecture details"

# æŒ‡å®šè¿”å›æœ€ç›¸å…³çš„ 10 æ¡ç»“æœ
python main.py search_paper "attention mechanism" --top_k 10
```

#### â¤ æ™ºèƒ½é—®ç­” (RAG)
åŸºäºè®ºæ–‡åº“çš„å†…å®¹å›ç­”é—®é¢˜ï¼Œé€‚åˆè¿›è¡Œæ–‡çŒ®ç»¼è¿°æˆ–ç»†èŠ‚æŸ¥è¯¢ã€‚
```bash
python main.py ask_paper "What are the main advantages of Transformer?"
```

#### â¤ æ‰¹é‡æ•´ç†æ–‡ä»¶å¤¹
å¦‚æœä½ æœ‰ä¸€ä¸ªå †æ»¡ PDF çš„æ··ä¹±æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨æ­¤å‘½ä»¤ä¸€é”®æ•´ç†ã€‚
```bash
python main.py organize_library /path/to/messy/download/folder
```

### 3. å›¾åƒç®¡ç†

#### â¤ å»ºç«‹å›¾åƒç´¢å¼•
åœ¨è¿›è¡Œæœç´¢å‰ï¼Œéœ€è¦å…ˆå¯¹å›¾ç‰‡åº“å»ºç«‹ç´¢å¼•ã€‚
```bash
python main.py index_images ./Images
```

#### â¤ ä»¥æ–‡æœå›¾
```bash
# æœç´¢åŒ…å«"çŒ«"çš„å›¾ç‰‡
python main.py search_image "a cute cat"

# æœç´¢"é£é©°çš„æ±½è½¦"
python main.py search_image "é£é©°çš„æ±½è½¦"
```

#### â¤ å¤šæ¨¡æ€å›¾åƒå¯¹è¯
è®© AI æè¿°å›¾ç‰‡å†…å®¹æˆ–å›ç­”å…³äºå›¾ç‰‡çš„é—®é¢˜ã€‚
```bash
python main.py chat_image /path/to/image.jpg "Describe this image"
```

---

## âš™ï¸ é…ç½®è¯´æ˜ (Configuration)

ä¸»è¦é…ç½®ä½äº `config.py` æ–‡ä»¶ä¸­ï¼š

- **`PAPER_TOPICS`**: è‡ªå®šä¹‰è®ºæ–‡åˆ†ç±»çš„ç±»åˆ«åˆ—è¡¨ã€‚
- **`CHUNK_SIZE`**: æ–‡æœ¬åˆ‡ç‰‡å¤§å°ï¼Œå½±å“æ£€ç´¢çš„ç²’åº¦ã€‚
- **`RETRIEVAL_TOP_K`**: é»˜è®¤æ£€ç´¢è¿”å›çš„ç»“æœæ•°é‡ã€‚

---

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„ (Project Structure)

```
My_AI_Agent/
â”œâ”€â”€ main.py                 # [å…¥å£] å‘½ä»¤è¡Œä¸»ç¨‹åº
â”œâ”€â”€ config.py               # [é…ç½®] æ¨¡å‹è·¯å¾„ä¸å‚æ•°é…ç½®
â”œâ”€â”€ requirements.txt        # [ä¾èµ–] Python ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ README.md               # [æ–‡æ¡£] é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”‚
â”œâ”€â”€ core/                   # [æ ¸å¿ƒ] æ¨¡å‹å¼•æ“æ¨¡å—
â”‚   â”œâ”€â”€ llm_engine.py       # LLM æ¨ç†å°è£…
â”‚   â”œâ”€â”€ vlm_engine.py       # VLM æ¨ç†å°è£…
â”‚   â”œâ”€â”€ embedding.py        # æ–‡æœ¬/å›¾åƒå‘é‡åŒ–å°è£…
â”‚   â””â”€â”€ db_manager.py       # å‘é‡æ•°æ®åº“ç®¡ç†
â”‚
â”œâ”€â”€ utils/                  # [å·¥å…·] é€šç”¨å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ pdf_parser.py       # PDF æ–‡æœ¬æå–ä¸åˆ‡åˆ†
â”‚   â”œâ”€â”€ file_ops.py         # æ–‡ä»¶ç§»åŠ¨ä¸æ‰«æ
â”‚   â””â”€â”€ gpu_utils.py        # æ˜¾å­˜ç®¡ç†å·¥å…·
â”‚
â”œâ”€â”€ Library/                # [æ•°æ®] è®ºæ–‡å­˜å‚¨åº“ï¼ˆè‡ªåŠ¨åˆ†ç±»ï¼‰
â”œâ”€â”€ Images/                 # [æ•°æ®] å›¾ç‰‡å­˜å‚¨åº“
â””â”€â”€ data/                   # [æ•°æ®] å‘é‡æ•°æ®åº“å­˜å‚¨
```

---

## ğŸ“„ License

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºã€‚

## ğŸ™ è‡´è°¢

- [Qwen](https://github.com/QwenLM/Qwen) - å¼ºå¤§çš„é€šä¹‰åƒé—®å¼€æºæ¨¡å‹
- [ChromaDB](https://www.trychroma.com/) - ä¼˜ç§€çš„å¼€æºå‘é‡æ•°æ®åº“
- [Sentence Transformers](https://www.sbert.net/) - æ–‡æœ¬åµŒå…¥æ”¯æŒ
